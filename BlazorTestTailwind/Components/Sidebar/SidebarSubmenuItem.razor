@if (ChildContent == null)
{
    <a href="@Href" class="flex items-center space-x-3 rounded-xl px-4 py-2 text-sm @(IsSelected ? "bg-blue-50 text-blue-600 dark:bg-gray-800 dark:text-blue-400" : "text-gray-600 dark:text-gray-400 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-gray-800 dark:hover:text-blue-400") transition-all duration-200">
        <div class="h-2 w-2 rounded-full bg-blue-400"></div>
        <span>@Title</span>
    </a>
}
else
{
    <button @onclick="HandleToggle" class="w-full flex items-center justify-between px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:bg-blue-50 hover:text-blue-600 dark:hover:bg-gray-800 dark:hover:text-blue-400 rounded-xl transition-all duration-200">
        <div class="flex items-center space-x-3">
            <div class="h-2 w-2 rounded-full bg-blue-400"></div>
            <span>@Title</span>
        </div>
        <svg class="h-4 w-4 transform @(IsOpen ? "rotate-180" : "") transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
        </svg>
    </button>
    @if (IsOpen)
    {
        <div class="ml-6 mt-1 space-y-1 animate-in slide-in-from-top-2">
            @ChildContent
        </div>
    }
}

@code {
    [Parameter] public string Href { get; set; } = "#";
    [Parameter] public string Title { get; set; } = "";
    [Parameter] public bool IsSelected { get; set; }
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback OnToggle { get; set; }
    [Parameter] public RenderFragment ChildContent { get; set; }

    private async Task HandleToggle()
    {
        await OnToggle.InvokeAsync();
    }
}